---

title: espiownage


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Ownage of ESPI image inference. (Pronounced like "espionage" but with a little "own" in the middle.)</p>
</blockquote>
<p>This code repository accompanies the paper submission <a href="https://www.dropbox.com/s/30nqyl0srekmu0s/steelpan_neurips_2021.pdf?dl=0"><strong>"espiownage:Tracking Transients in Drum Strikes Using Surveillance Technology"</strong></a> for the <a href="https://nips.cc/Conferences/2021/">NeurIPS 2021</a> workshop on <a href="https://ml4physicalsciences.github.io/2021/">Machine Learning and the Physical Sciences.</a></p>
<div align="center">
{% include image.html width="40%" style="display:inline; vertical-align: bottom" max-width="40%" file="/espiownage/images/ellipse_editor_screenshot.png" %}
<div style="display:inline;width:10px;"></div>
{% include image.html width="36%" style="display:inline; vertical-align: bottom" max-width="36%" file="/espiownage/images/infer_others.png" %}
</div><p>This study consists of 3 models:  Two that go together (a bounding box detector that feeds cropped images into an antinode ring-counter) and another complements them (an image sementation code we use for regression by scaling the final activation of a "one-class" model.)</p>
<p>All this documentation is fully executable, either locally or on Colab. This is made possible by <a href="nbdev.fast.ai">nbdev</a>, the development system that enabled us to stay organized and do this project in only 18 days!</p>
<p>These pages and <a href="https://github.com/maskedstudent/espiownage">the GitHub repo they are generated from</a> are fully anonymized as are all the links that are used, so they're "safe" for reviewers to explore.  <em>Note that there is a "real" espiownage repo and PyPi entry (which is where the pip-installs used in these notebooks will pull from for setup/speed purposes) so don't go searching for that.</em>  Pending successful review of the paper, this repository will be redirected to the non-anonymous version.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preliminaries">Preliminaries<a class="anchor-link" href="#Preliminaries"> </a></h3><p>Ubuntu (&amp; probably other Linuxes):</p>
<div class="highlight"><pre><span></span>sudo apt-get install python3-tk
</pre></div>
<p>Mac (with <a href="https://brew.sh/">Homebrew</a>)</p>
<div class="highlight"><pre><span></span>brew install python-tk
</pre></div>
<p>Then on all systems, let's set up a virtual environment called <code>espi</code>. 
I like to put my environments in <code>~/envs</code>:</p>

<pre><code>mkdir ~/envs; python3 -m venv ~/envs/espi; source ~/envs/espi/bin/activate</code></pre>
<p>And then you want/need to update <code>pip</code> in case it gave you an ancient version:</p>
<div class="highlight"><pre><span></span>python3 -m pip install pip --upgrade
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pip-install">Pip install<a class="anchor-link" href="#Pip-install"> </a></h3><div class="highlight"><pre><span></span>pip install espiownage
</pre></div>
<p>Note: the requirements on this package follow a "kitchen sink" approach so that everything a student might need gets installed, e.g. <code>jupyter</code> and more. (And <code>wheel</code> because it speeds up the installations...I think.)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Take a look at the tabs in the sidebar, which arranged in sections according the tasks of detecting antinodes in steelpan drum oscillations, counting the interference friges, and reporting tracking information so that scientists can better understand the rapid transient dynamics of these instruments -- it is the transients that give the instrument its distinctive sound!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Console-Scripts">Console Scripts<a class="anchor-link" href="#Console-Scripts"> </a></h2><p>See the separate page on console scripts</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Contributing-/-Development">Contributing / Development<a class="anchor-link" href="#Contributing-/-Development"> </a></h2><p>You'll want to install more things:</p>
<div class="highlight"><pre><span></span>pip install nbdev twine
</pre></div>
<p>Fork this repo.  When you want to update your repo, one macro does it all (see <code>Makefile</code>):</p>
<div class="highlight"><pre><span></span>make git_update
</pre></div>

</div>
</div>
</div>
</div>
 

